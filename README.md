# ZeroTier Gateway ä¸€é”®é…ç½®è„šæœ¬

**é€šè¿‡ ZeroTier æ­å»º VPN ç½‘å…³ï¼Œæ”¯æŒå…¨å±€å‡ºç«™ã€å†…ç½‘ç©¿é€ã€OpenVPN ååŒ**

[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)
[![Shell Script](https://img.shields.io/badge/shell-bash-green.svg)](zerotier-gateway-setup.sh)
[![ZeroTier](https://img.shields.io/badge/ZeroTier-1.12+-orange.svg)](https://www.zerotier.com)
[![Version](https://img.shields.io/badge/version-1.2.1-brightgreen.svg)](https://github.com/rockyshi1993/zerotier-gateway/releases)
[![Maintenance](https://img.shields.io/badge/maintained-yes-green.svg)](https://github.com/rockyshi1993/zerotier-gateway/commits/main)

## ğŸŒŸ åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½

- âœ… **VPN å…¨å±€å‡ºç«™** - æ‰€æœ‰å®¢æˆ·ç«¯æµé‡é€šè¿‡ç½‘å…³èŠ‚ç‚¹ä¸Šç½‘
- âœ… **å†…ç½‘ç©¿é€** - è¿œç¨‹è®¿é—®ç½‘å…³èŠ‚ç‚¹æ‰€åœ¨çš„å±€åŸŸç½‘è®¾å¤‡
- âœ… **OpenVPN ååŒ** - æ”¯æŒä¸ OpenVPN é…åˆï¼Œå®ç°æ™ºèƒ½æµé‡åˆ†æµ
- âœ… **è‡ªåŠ¨è·¯ç”±é…ç½®** - å¯é€‰ API Tokenï¼Œè‡ªåŠ¨åœ¨ ZeroTier Central é…ç½®è·¯ç”±
- âœ… **ä¸€é”®å®‰è£…** - è‡ªåŠ¨åŒ–å®‰è£…å’Œé…ç½®ï¼Œæ”¯æŒå¤šç§ Linux å‘è¡Œç‰ˆ
- âœ… **æŒä¹…åŒ–é…ç½®** - é‡å¯åè‡ªåŠ¨æ¢å¤é…ç½®

### ğŸ‰ v1.2.1 æ–°å¢åŠŸèƒ½

- âœ¨ **è¯¦ç»†è¿›åº¦æ˜¾ç¤º** - 12æ­¥å¯è§†åŒ–å®‰è£…è¿›åº¦ï¼Œå®æ—¶ç™¾åˆ†æ¯”æ˜¾ç¤º
- âœ¨ **æ™ºèƒ½å†…ç½‘æ£€æµ‹** - è‡ªåŠ¨è¯†åˆ«å’Œé…ç½®æœ¬æœºæ‰€æœ‰ç§æœ‰ IP ç½‘æ®µ
- âœ¨ **é…ç½®å¤‡ä»½å›æ»š** - å®‰è£…å‰è‡ªåŠ¨å¤‡ä»½ï¼Œå¤±è´¥æ—¶è‡ªåŠ¨æ¢å¤
- âœ¨ **ç½‘ç»œå†²çªæ£€æµ‹** - æ™ºèƒ½æ£€æµ‹ç«¯å£å ç”¨ã€VPN å†²çªã€é˜²ç«å¢™çŠ¶æ€
- âœ¨ **MTU è‡ªåŠ¨ä¼˜åŒ–** - è‡ªåŠ¨æµ‹è¯•å¹¶é€‰æ‹©æœ€ä½³ MTU å€¼ï¼Œæå‡æ€§èƒ½
- âœ¨ **è€—æ—¶ç»Ÿè®¡** - æ¯ä¸ªæ­¥éª¤çš„è¯¦ç»†è€—æ—¶ï¼Œæ€»å®‰è£…æ—¶é—´ç»Ÿè®¡
- âœ¨ **ç¡®è®¤æç¤º** - é»˜è®¤æ˜¾ç¤ºç¡®è®¤æç¤ºï¼Œä½¿ç”¨ `-y` å¯è·³è¿‡

### ä½¿ç”¨åœºæ™¯

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Windowså®¢æˆ·ç«¯â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  ZeroTier ç½‘ç»œ   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  Linuxç½‘å…³  â”‚
â”‚   (å®¶é‡Œ)    â”‚         â”‚  (è™šæ‹Ÿå±€åŸŸç½‘)    â”‚         â”‚   (VPS)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                                                             â”‚
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚                                    â”‚        â”‚
                        â–¼                                    â–¼        â–¼
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”
                  â”‚ å†…ç½‘è®¾å¤‡ â”‚                         â”‚ OpenVPN â”‚ â”‚ äº’è”ç½‘â”‚
                  â”‚192.168.xâ”‚                         â”‚ç‰¹å®šè·¯ç”± â”‚ â”‚      â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Linux æœåŠ¡å™¨/VPS (Ubuntu/Debian/CentOS/RHEL/Fedora)
- Root æƒé™
- ZeroTier è´¦å· ([å…è´¹æ³¨å†Œ](https://my.zerotier.com))

### åŸºç¡€å®‰è£…ï¼ˆ3 æ­¥å®Œæˆï¼‰

```bash
# 1. ä¸‹è½½è„šæœ¬
wget https://raw.githubusercontent.com/rockyshi1993/zerotier-gateway/main/zerotier-gateway-setup.sh

# 2. æ·»åŠ æ‰§è¡Œæƒé™
chmod +x zerotier-gateway-setup.sh

# 3. æ ‡å‡†å®‰è£…ï¼ˆæ¨è - æœ‰è¿›åº¦æ˜¾ç¤ºå’Œç¡®è®¤æç¤ºï¼‰
sudo bash zerotier-gateway-setup.sh -n YOUR_NETWORK_ID -a
```

### å®‰è£…æ¨¡å¼è¯´æ˜

| æ¨¡å¼ | å‘½ä»¤ | ç‰¹ç‚¹ | é€‚ç”¨åœºæ™¯ |
|------|------|------|---------|
| **æ ‡å‡†æ¨¡å¼**<br>(æ¨è) | `sudo bash script.sh -n ID -a` | âœ“ è¯¦ç»†è¿›åº¦æ˜¾ç¤º<br>âœ“ ç¡®è®¤æç¤º<br>âœ“ å®‰å…¨å¯é  | é¦–æ¬¡å®‰è£…<br>ç”Ÿäº§ç¯å¢ƒ |
| **å¿«é€Ÿæ¨¡å¼** | `sudo bash script.sh -n ID -a -y` | âœ“ è·³è¿‡æ‰€æœ‰ç¡®è®¤<br>âœ“ å¿«é€Ÿå®Œæˆ<br>âœ“ é€‚åˆè‡ªåŠ¨åŒ– | æ‰¹é‡éƒ¨ç½²<br>CI/CD |

### è·å– Network ID

1. è®¿é—® [ZeroTier Central](https://my.zerotier.com)
2. ç‚¹å‡» **Create A Network**
3. å¤åˆ¶ **Network ID** (16ä½åå…­è¿›åˆ¶å­—ç¬¦ï¼Œå¦‚: `1234567890abcdef`)

### è·å– API Tokenï¼ˆå¯é€‰ï¼‰

å¦‚æœæƒ³è¦è‡ªåŠ¨é…ç½®è·¯ç”±ï¼Œè·å– API Tokenï¼š

1. è®¿é—® [ZeroTier Account](https://my.zerotier.com/account)
2. æ»šåŠ¨åˆ° **API Access Tokens** éƒ¨åˆ†
3. åœ¨ **New Token** è¾“å…¥æ¡†å¡«å†™åç§°ï¼ˆå¦‚: `gateway-script`ï¼‰
4. ç‚¹å‡» **Generate**
5. å¤åˆ¶ç”Ÿæˆçš„ Tokenï¼ˆåªæ˜¾ç¤ºä¸€æ¬¡ï¼Œè¯·å¦¥å–„ä¿å­˜ï¼‰

âš ï¸ **æ³¨æ„**: 
- API Token å®Œå…¨å¯é€‰ï¼Œä»…ç”¨äºè‡ªåŠ¨é…ç½®è·¯ç”±
- å…è´¹ç‰ˆå®Œå…¨æ”¯æŒï¼Œæ— ä»»ä½•é™åˆ¶
- ä¸¢å¤±åéœ€è¦é‡æ–°ç”Ÿæˆ

## ğŸ¨ å®‰è£…è¿›åº¦æ˜¾ç¤º

v1.2.1 ç‰ˆæœ¬æä¾›äº†è¯¦ç»†çš„å¯è§†åŒ–å®‰è£…è¿›åº¦ï¼š

### è¿›åº¦æ¡ç¤ºä¾‹

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ å®‰è£…è¿›åº¦: [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘] 50%
â•‘ æ­¥éª¤ 6/12: åŠ å…¥ ZeroTier ç½‘ç»œ
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  æ­£åœ¨åŠ å…¥ç½‘ç»œ fada62b01594a24d... å®Œæˆ
  æ­£åœ¨è·å– Node ID... a1b2c3d4e5
[âœ“] ç½‘ç»œåŠ å…¥å®Œæˆ (è€—æ—¶: 2ç§’)
```

### 12 ä¸ªå®‰è£…æ­¥éª¤

| æ­¥éª¤ | åç§° | è¯´æ˜ | é¢„è®¡è€—æ—¶ |
|------|------|------|---------|
| 1 | æ£€æŸ¥å¿…è¦å·¥å…· | æ£€æµ‹å¹¶å®‰è£… ipcalcã€net-tools | 10-30ç§’ |
| 2 | å¤‡ä»½ç°æœ‰é…ç½® | å¤‡ä»½ iptables è§„åˆ™å’Œè·¯ç”±è¡¨ | 5-10ç§’ |
| 3 | æ£€æŸ¥ç½‘ç»œå†²çª | æ£€æµ‹ç«¯å£å ç”¨ã€VPN å†²çªã€é˜²ç«å¢™ | 5-10ç§’ |
| 4 | è‡ªåŠ¨æ£€æµ‹å†…ç½‘ç½‘æ®µ | æ™ºèƒ½è¯†åˆ«ç§æœ‰ IP ç½‘æ®µ | 5-15ç§’ |
| 5 | å®‰è£… ZeroTier | ä»å®˜æ–¹æºä¸‹è½½å®‰è£… | 30-120ç§’ |
| 6 | åŠ å…¥ ZeroTier ç½‘ç»œ | è·å– Node ID | 3-5ç§’ |
| 7 | ç­‰å¾…è®¾å¤‡æˆæƒ | è‡ªåŠ¨æˆ–æ‰‹åŠ¨æˆæƒ | 5-60ç§’ |
| 8 | è·å–ç½‘ç»œé…ç½®ä¿¡æ¯ | ZeroTier IPã€æ¥å£ã€ç‰©ç†ç½‘å¡ | 5-10ç§’ |
| 9 | ä¼˜åŒ– MTU è®¾ç½® | è‡ªåŠ¨æµ‹è¯•æœ€ä½³ MTU å€¼ | 5-15ç§’ |
| 10 | é…ç½®ç³»ç»Ÿå‚æ•° | å¯ç”¨ IP è½¬å‘ | 3-5ç§’ |
| 11 | é…ç½®é˜²ç«å¢™è§„åˆ™ | NATã€è½¬å‘è§„åˆ™ã€å†…ç½‘è·¯ç”± | 5-10ç§’ |
| 12 | åˆ›å»ºå¯åŠ¨è„šæœ¬ | systemd æœåŠ¡å’Œè‡ªå¯åŠ¨ | 3-5ç§’ |

### å®‰è£…æ—¶é—´

- **æ ‡å‡†å®‰è£…**: 3-5 åˆ†é’Ÿï¼ˆåŒ…å«ç”¨æˆ·ç¡®è®¤æ—¶é—´ï¼‰
- **å¿«é€Ÿå®‰è£…**: 2-3 åˆ†é’Ÿï¼ˆä½¿ç”¨ `-y` å‚æ•°ï¼‰
- **å®é™…è€—æ—¶**: å–å†³äºç½‘ç»œé€Ÿåº¦å’Œç³»ç»Ÿæ€§èƒ½

## ğŸ“– ä½¿ç”¨è¯´æ˜

### å‘½ä»¤é€‰é¡¹

```bash
sudo bash zerotier-gateway-setup.sh [é€‰é¡¹]

é€‰é¡¹:
    -n <ID>     ZeroTier Network ID (16ä½åå…­è¿›åˆ¶ï¼Œå¿…å¡«)
    -t <TOKEN>  API Token (å¯é€‰ï¼Œç”¨äºè‡ªåŠ¨é…ç½®è·¯ç”±)
    -l <NETS>   å†…ç½‘ç½‘æ®µï¼Œé€—å·åˆ†éš” (å¯é€‰ï¼Œå¦‚: 192.168.1.0/24,10.0.0.0/24)
    -a          è‡ªåŠ¨æ£€æµ‹å†…ç½‘ç½‘æ®µ
    -y          è·³è¿‡æ‰€æœ‰ç¡®è®¤æç¤ºï¼ˆå¿«é€Ÿå®‰è£…ï¼‰
    -u          å¸è½½æ‰€æœ‰é…ç½®
    -h          æ˜¾ç¤ºå¸®åŠ©

æ–°åŠŸèƒ½ (v1.2.1):
    âœ¨ è¯¦ç»†çš„å®æ—¶è¿›åº¦æ˜¾ç¤º
    âœ¨ æ¯æ­¥éª¤è€—æ—¶ç»Ÿè®¡
    âœ¨ å¯è§†åŒ–è¿›åº¦æ¡ï¼ˆ50å­—ç¬¦å®½ï¼‰
    âœ¨ å½©è‰²è¾“å‡ºå¢å¼ºå¯è¯»æ€§
    âœ¨ ä¼˜åŒ–ç¡®è®¤æµç¨‹
```

### ä½¿ç”¨ç¤ºä¾‹

#### 1ï¸âƒ£ æ ‡å‡†å®‰è£…ï¼ˆæ¨è â­ v1.2.1ï¼‰

```bash
# å¸¦è¿›åº¦æ˜¾ç¤ºå’Œç¡®è®¤æç¤º
sudo bash zerotier-gateway-setup.sh -n 1234567890abcdef -a
```

**ç‰¹ç‚¹**ï¼š
- âœ… 12æ­¥è¯¦ç»†è¿›åº¦æ˜¾ç¤º
- âœ… æ¯æ­¥éª¤è€—æ—¶ç»Ÿè®¡
- âœ… å…³é”®æ“ä½œéœ€è¦ç¡®è®¤
- âœ… å¯è§†åŒ–è¿›åº¦æ¡
- âœ… å½©è‰²è¾“å‡ºå¢å¼ºå¯è¯»æ€§

**å®‰è£…æµç¨‹**ï¼š
1. æ˜¾ç¤ºæ¬¢è¿ç•Œé¢
2. æŒ‰å›è½¦é”®å¼€å§‹å®‰è£…
3. åœ¨éœ€è¦ç¡®è®¤çš„æ­¥éª¤ä¼šæš‚åœç­‰å¾…è¾“å…¥
4. æ˜¾ç¤ºè¯¦ç»†çš„è¿›åº¦å’ŒçŠ¶æ€
5. å®Œæˆåæ˜¾ç¤ºé…ç½®æ‘˜è¦

#### 2ï¸âƒ£ å¿«é€Ÿå®‰è£…ï¼ˆæ— ç¡®è®¤ï¼‰

```bash
# è·³è¿‡æ‰€æœ‰ç¡®è®¤æç¤º
sudo bash zerotier-gateway-setup.sh -n 1234567890abcdef -a -y
```

**é€‚ç”¨åœºæ™¯**ï¼š
- è‡ªåŠ¨åŒ–è„šæœ¬
- CI/CD éƒ¨ç½²
- æ‰¹é‡å®‰è£…
- ç†Ÿæ‚‰æµç¨‹åçš„å¿«é€Ÿéƒ¨ç½²

#### 3ï¸âƒ£ å®Œå…¨è‡ªåŠ¨åŒ–ï¼ˆAPI Token + è‡ªåŠ¨æ£€æµ‹ + å¿«é€Ÿæ¨¡å¼ï¼‰

```bash
sudo bash zerotier-gateway-setup.sh \
  -n 1234567890abcdef \
  -t YOUR_API_TOKEN \
  -a \
  -y
```

**ç‰¹ç‚¹**ï¼š
- âœ… è‡ªåŠ¨æ£€æµ‹å†…ç½‘ç½‘æ®µ
- âœ… è‡ªåŠ¨é…ç½®è·¯ç”±
- âœ… æ— éœ€æ‰‹åŠ¨æ“ä½œ
- âœ… é€‚åˆè‡ªåŠ¨åŒ–éƒ¨ç½²

#### 4ï¸âƒ£ æ‰‹åŠ¨æŒ‡å®šå†…ç½‘ï¼ˆä¼ ç»Ÿæ–¹å¼ï¼‰

```bash
# æ‰‹åŠ¨æŒ‡å®šå†…ç½‘ç½‘æ®µ
sudo bash zerotier-gateway-setup.sh -n 1234567890abcdef -l 192.168.1.0/24
```

#### 5ï¸âƒ£ ä»… VPN å…¨å±€å‡ºç«™

```bash
# ä¸é…ç½®å†…ç½‘ç©¿é€ï¼Œä»…ä½œä¸º VPN å‡ºå£
sudo bash zerotier-gateway-setup.sh -n 1234567890abcdef
```

#### 6ï¸âƒ£ å¤šä¸ªå†…ç½‘ç½‘æ®µ

```bash
sudo bash zerotier-gateway-setup.sh \
  -n 1234567890abcdef \
  -l 192.168.1.0/24,10.0.0.0/24,172.16.0.0/16
```

#### 7ï¸âƒ£ å¸è½½

```bash
sudo bash zerotier-gateway-setup.sh -u
```

## ğŸ” å¦‚ä½•ç¡®å®šå†…ç½‘ç½‘æ®µ

### v1.2.1 æ™ºèƒ½æ£€æµ‹ï¼ˆæ¨èï¼‰

```bash
# ä½¿ç”¨ -a å‚æ•°è‡ªåŠ¨æ£€æµ‹
sudo bash zerotier-gateway-setup.sh -n YOUR_NETWORK_ID -a
```

**è‡ªåŠ¨æ£€æµ‹åŸç†**ï¼š
- æ‰«ææ‰€æœ‰ç½‘ç»œæ¥å£
- è¯†åˆ«ç§æœ‰ IP åœ°å€ (192.168.x.xã€10.x.x.xã€172.16-31.x.x)
- è‡ªåŠ¨è®¡ç®—ç½‘ç»œåœ°å€
- æç¤ºç”¨æˆ·ç¡®è®¤æˆ–è‡ªåŠ¨åº”ç”¨

**æ£€æµ‹è¾“å‡ºç¤ºä¾‹**ï¼š
```
æ­¥éª¤ 4/12: è‡ªåŠ¨æ£€æµ‹å†…ç½‘ç½‘æ®µ
  æ­£åœ¨æ‰«æç½‘ç»œæ¥å£...
    å‘ç°ç§æœ‰ IP: 192.168.1.100/24
    å‘ç°ç§æœ‰ IP: 10.0.0.50/24

[âœ“] æ£€æµ‹åˆ° 2 ä¸ªå†…ç½‘ç½‘æ®µ:
    â€¢ 192.168.1.0/24
    â€¢ 10.0.0.0/24

æ˜¯å¦ä½¿ç”¨è¿™äº›ç½‘æ®µè¿›è¡Œå†…ç½‘ç©¿é€?
  é€‰æ‹© Yes: è¿œç¨‹å¯ä»¥è®¿é—®è¿™äº›å†…ç½‘è®¾å¤‡
  é€‰æ‹© No:  ä»…é…ç½® VPN å…¨å±€å‡ºç«™
è¯·é€‰æ‹© (Y/n):
```

### æ–¹æ³•ä¸€ï¼šLinux ç³»ç»ŸæŸ¥çœ‹

```bash
# æŸ¥çœ‹æ‰€æœ‰ç½‘ç»œæ¥å£å’Œ IP åœ°å€
ip addr show

# æˆ–è€…ä½¿ç”¨ä¼ ç»Ÿå‘½ä»¤
ifconfig

# æŸ¥çœ‹è·¯ç”±è¡¨ï¼ˆæ‰¾å±€åŸŸç½‘ç½‘æ®µï¼‰
ip route show
```

**è¾“å‡ºç¤ºä¾‹ï¼š**
```
2: eth0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500
    inet 192.168.1.100/24 brd 192.168.1.255 scope global eth0
```

**è§£è¯»ï¼š**
- `192.168.1.100/24` è¡¨ç¤ºå½“å‰ IP æ˜¯ 192.168.1.100
- `/24` è¡¨ç¤ºå­ç½‘æ©ç  255.255.255.0
- **å†…ç½‘ç½‘æ®µå°±æ˜¯ï¼š`192.168.1.0/24`**

### æ–¹æ³•äºŒï¼šWindows ç³»ç»ŸæŸ¥çœ‹

```powershell
# æŸ¥çœ‹ç½‘ç»œé…ç½®
ipconfig

# è¯¦ç»†ä¿¡æ¯
ipconfig /all
```

**è¾“å‡ºç¤ºä¾‹ï¼š**
```
ä»¥å¤ªç½‘é€‚é…å™¨ ä»¥å¤ªç½‘:
   IPv4 åœ°å€ . . . . . . . . . : 192.168.1.100
   å­ç½‘æ©ç  . . . . . . . . . : 255.255.255.0
   é»˜è®¤ç½‘å…³ . . . . . . . . . : 192.168.1.1
```

**æ¢ç®—æ–¹æ³•ï¼š**
- IP: 192.168.1.100
- å­ç½‘æ©ç : 255.255.255.0 = /24
- **å†…ç½‘ç½‘æ®µï¼š`192.168.1.0/24`**

### æ–¹æ³•ä¸‰ï¼šmacOS ç³»ç»ŸæŸ¥çœ‹

```bash
# æŸ¥çœ‹ç½‘ç»œé…ç½®
ifconfig | grep "inet "

# è¾“å‡ºç¤ºä¾‹ï¼š
# inet 192.168.1.100 netmask 0xffffff00 broadcast 192.168.1.255
# 0xffffff00 = 255.255.255.0 = /24
```

### æ–¹æ³•å››ï¼šè·¯ç”±å™¨ç®¡ç†ç•Œé¢

1. è®¿é—®è·¯ç”±å™¨ç®¡ç†é¡µé¢ï¼ˆå¸¸è§åœ°å€ï¼‰ï¼š
   - `http://192.168.1.1` (TP-Link/D-Link)
   - `http://192.168.0.1` (Netgear)
   - `http://192.168.31.1` (å°ç±³è·¯ç”±å™¨)
   - `http://192.168.3.1` (åä¸ºè·¯ç”±å™¨)
   - `http://tplogin.cn` (TP-Link ä¸­å›½)

2. æŸ¥çœ‹ **LAN è®¾ç½®** æˆ– **å±€åŸŸç½‘è®¾ç½®**
3. æ‰¾åˆ° **IP åœ°å€æ®µ** æˆ– **DHCP åœ°å€æ± **

### å­ç½‘æ©ç å¯¹ç…§è¡¨

| å­ç½‘æ©ç  | CIDR | å¯ç”¨ IP æ•° | å¸¸è§åœºæ™¯ |
|---------|------|-----------|---------|
| 255.255.255.0 | /24 | 254 | å®¶åº­ç½‘ç»œ |
| 255.255.254.0 | /23 | 510 | å°å‹ä¼ä¸š |
| 255.255.252.0 | /22 | 1022 | ä¸­å‹ä¼ä¸š |
| 255.255.0.0 | /16 | 65534 | å¤§å‹ä¼ä¸š |
| 255.0.0.0 | /8 | 16777214 | è¶…å¤§å‹ç½‘ç»œ |

### å¸¸è§å†…ç½‘ç½‘æ®µè¡¨

| ç½‘æ®µç±»å‹ | CIDR æ ¼å¼ | IP èŒƒå›´ | å¯ç”¨ IP æ•°é‡ | å¸¸è§åœºæ™¯ |
|---------|-----------|---------|-------------|---------|
| Cç±»ç§ç½‘ | 192.168.1.0/24 | 192.168.1.1 - 192.168.1.254 | 254 | å®¶åº­/å°å‹åŠå…¬å®¤ |
| Cç±»ç§ç½‘(å¤§) | 192.168.0.0/16 | 192.168.0.1 - 192.168.255.254 | 65534 | ä¼ä¸šå†…ç½‘ |
| Aç±»ç§ç½‘ | 10.0.0.0/8 | 10.0.0.1 - 10.255.255.254 | 16777214 | å¤§å‹ä¼ä¸š |
| Bç±»ç§ç½‘ | 172.16.0.0/12 | 172.16.0.1 - 172.31.255.254 | 1048574 | ä¸­å‹ä¼ä¸š |

### å®é™…åº”ç”¨ç¤ºä¾‹

#### åœºæ™¯ 1ï¼šå®¶åº­ç½‘ç»œç©¿é€ï¼ˆæ™ºèƒ½æ£€æµ‹ï¼‰

**éœ€æ±‚ï¼š** è¿œç¨‹è®¿é—®å®¶é‡Œçš„ NAS (192.168.1.50)

```bash
# v1.2.1 æ™ºèƒ½æ–¹å¼ï¼ˆæ¨èï¼‰
sudo bash zerotier-gateway-setup.sh \
  -n 1234567890abcdef \
  -a

# è„šæœ¬ä¼šè‡ªåŠ¨æ£€æµ‹åˆ° 192.168.1.0/24
# è¯¢é—®æ˜¯å¦é…ç½®å†…ç½‘ç©¿é€
# è‡ªåŠ¨é…ç½®è·¯ç”±
```

#### åœºæ™¯ 2ï¼šåŠå…¬å®¤ç½‘ç»œè®¿é—®

**éœ€æ±‚ï¼š** åœ¨å®¶è®¿é—®åŠå…¬å®¤çš„å†…ç½‘æœåŠ¡å™¨ (10.0.0.50)

```bash
# åœ¨åŠå…¬å®¤çš„ Linux æœåŠ¡å™¨ä¸Šå®‰è£…
sudo bash zerotier-gateway-setup.sh \
  -n 1234567890abcdef \
  -a

# è„šæœ¬è‡ªåŠ¨æ£€æµ‹ 10.0.0.0/24 ç½‘æ®µ
# åœ¨å®¶é€šè¿‡ ZeroTier å®¢æˆ·ç«¯åŠ å…¥ç½‘ç»œåå³å¯è®¿é—®
ping 10.0.0.50
```

#### åœºæ™¯ 3ï¼šå¤šåœ°ç½‘ç»œäº’è”

**éœ€æ±‚ï¼š** åŒæ—¶è®¿é—®å®¶é‡Œ (192.168.1.0/24) å’ŒåŠå…¬å®¤ (10.0.0.0/24)

```bash
# æ–¹æ¡ˆ 1ï¼šåœ¨ä¸€å°æœºå™¨ä¸Šé…ç½®å¤šä¸ªç½‘æ®µï¼ˆè¯¥æœºå™¨éœ€è¦èƒ½è®¿é—®ä¸¤ä¸ªç½‘ç»œï¼‰
sudo bash zerotier-gateway-setup.sh \
  -n 1234567890abcdef \
  -l 192.168.1.0/24,10.0.0.0/24

# æ–¹æ¡ˆ 2ï¼šåˆ†åˆ«åœ¨ä¸¤ä¸ªåœ°æ–¹å„å®‰è£…ä¸€ä¸ªç½‘å…³ï¼ˆæ¨èï¼‰
# å®¶é‡Œæœºå™¨ï¼š
sudo bash zerotier-gateway-setup.sh -n 1234567890abcdef -a

# åŠå…¬å®¤æœºå™¨ï¼š
sudo bash zerotier-gateway-setup.sh -n 1234567890abcdef -a
```

### å¿«é€ŸéªŒè¯

```bash
# 1. åœ¨ç½‘å…³èŠ‚ç‚¹æŸ¥çœ‹è·¯ç”±æ˜¯å¦æ·»åŠ æˆåŠŸ
ip route show | grep zt
# åº”è¯¥çœ‹åˆ°ï¼š192.168.1.0/24 dev zt0 scope link

# 2. ä»å®¢æˆ·ç«¯æµ‹è¯•
ping <ç½‘å…³ZT IP>        # æµ‹è¯•ç½‘å…³è¿é€šæ€§
ping 192.168.1.1        # æµ‹è¯•å†…ç½‘ç½‘å…³
ping 192.168.1.50       # æµ‹è¯•å†…ç½‘è®¾å¤‡

# 3. ä½¿ç”¨ traceroute æŸ¥çœ‹è·¯å¾„
traceroute 192.168.1.50
# åº”è¯¥çœ‹åˆ°æµé‡ç»è¿‡ ZeroTier ç½‘å…³
```

### âš ï¸ å¸¸è§é”™è¯¯

| é”™è¯¯ç°è±¡ | å¯èƒ½åŸå›  | è§£å†³æ–¹æ¡ˆ |
|---------|---------|---------|
| æ— æ³•è®¿é—®å†…ç½‘ | ç½‘æ®µå¡«é”™ | ä½¿ç”¨ `-a` å‚æ•°è‡ªåŠ¨æ£€æµ‹ |
| ping ä¸é€š | ç½‘å…³ä¸åœ¨å†…ç½‘ | ç½‘å…³å¿…é¡»èƒ½è®¿é—®ç›®æ ‡å†…ç½‘ |
| éƒ¨åˆ† IP ä¸é€š | ç½‘æ®µèŒƒå›´å¤ªå° | ä½¿ç”¨æ›´å¤§çš„ç½‘æ®µå¦‚ /16 |
| è·¯ç”±å†²çª | å®¢æˆ·ç«¯ä¹Ÿåœ¨ç›¸åŒç½‘æ®µ | ä¿®æ”¹å®¢æˆ·ç«¯æœ¬åœ°ç½‘æ®µ |

## ğŸ’» å®¢æˆ·ç«¯é…ç½®

### Windows å®¢æˆ·ç«¯

#### 1. å®‰è£… ZeroTier

- ä¸‹è½½: [https://www.zerotier.com/download/](https://www.zerotier.com/download/)
- åŒå‡»å®‰è£…åŒ…ï¼Œä»¥ç®¡ç†å‘˜æƒé™å®‰è£…

#### 2. åŠ å…¥ç½‘ç»œ

- æ‰“å¼€ ZeroTier å®¢æˆ·ç«¯ï¼ˆç³»ç»Ÿæ‰˜ç›˜å›¾æ ‡ï¼‰
- å³é”®ç‚¹å‡»å›¾æ ‡ â†’ **Join New Network**
- è¾“å…¥ Network ID
- ç‚¹å‡» **Join**

#### 3. æˆæƒè®¾å¤‡

- è®¿é—® `https://my.zerotier.com/network/YOUR_NETWORK_ID`
- åœ¨ **Members** éƒ¨åˆ†æ‰¾åˆ°æ–°åŠ å…¥çš„è®¾å¤‡
- å‹¾é€‰ **Auth** å¤é€‰æ¡†
- ï¼ˆå¯é€‰ï¼‰è®¾ç½®è®¾å¤‡åç§°

#### 4. ï¼ˆå¯é€‰ï¼‰é…ç½®å…¨å±€è·¯ç”±

å¦‚æœæƒ³è®©æ‰€æœ‰æµé‡é€šè¿‡ ZeroTier ç½‘å…³ï¼š

ä»¥**ç®¡ç†å‘˜æƒé™**è¿è¡Œ PowerShell:

```powershell
# æ·»åŠ é»˜è®¤è·¯ç”±ï¼ˆæ‰€æœ‰æµé‡é€šè¿‡ ZeroTierï¼‰
route add 0.0.0.0 mask 0.0.0.0 <ç½‘å…³ZT IP> metric 10

# ç¤ºä¾‹
route add 0.0.0.0 mask 0.0.0.0 10.147.20.1 metric 10

# æŸ¥çœ‹è·¯ç”±è¡¨
route print

# åˆ é™¤è·¯ç”±
route delete 0.0.0.0 mask 0.0.0.0 <ç½‘å…³ZT IP>
```

### macOS å®¢æˆ·ç«¯

```bash
# 1. å®‰è£… ZeroTier
brew install --cask zerotier-one
# æˆ–ä»å®˜ç½‘ä¸‹è½½: https://www.zerotier.com/download/

# 2. åŠ å…¥ç½‘ç»œ
sudo zerotier-cli join YOUR_NETWORK_ID

# 3. æŸ¥çœ‹çŠ¶æ€
sudo zerotier-cli listnetworks

# 4. ï¼ˆå¯é€‰ï¼‰é…ç½®å…¨å±€è·¯ç”±
sudo route add default <ç½‘å…³ZT IP> -interface <ZTæ¥å£>
```

### Linux å®¢æˆ·ç«¯

```bash
# 1. å®‰è£… ZeroTier
curl -s https://install.zerotier.com | sudo bash

# 2. åŠ å…¥ç½‘ç»œ
sudo zerotier-cli join YOUR_NETWORK_ID

# 3. æŸ¥çœ‹çŠ¶æ€
sudo zerotier-cli listnetworks

# 4. æŸ¥çœ‹æ¥å£ä¿¡æ¯
ip addr show | grep zt

# 5. ï¼ˆå¯é€‰ï¼‰é…ç½®å…¨å±€è·¯ç”±
sudo ip route add default via <ç½‘å…³ZT IP> dev <ZTæ¥å£> metric 100
```

### Android/iOS å®¢æˆ·ç«¯

1. åœ¨åº”ç”¨å•†åº—æœç´¢å¹¶å®‰è£… **ZeroTier One**
2. æ‰“å¼€åº”ç”¨ï¼Œç‚¹å‡» **+** æ·»åŠ ç½‘ç»œ
3. è¾“å…¥ Network ID å¹¶åŠ å…¥
4. åœ¨ ZeroTier Central æˆæƒè®¾å¤‡

## ğŸ”§ é«˜çº§é…ç½®

### OpenVPN ååŒï¼ˆæµé‡åˆ†æµï¼‰

**åœºæ™¯**: ä¼ä¸šå†…ç½‘èµ° OpenVPNï¼Œå…¶ä»–æµé‡èµ° ZeroTier

```bash
# 1. å…ˆå®‰è£…åŸºç¡€ ZeroTier Gateway
sudo bash zerotier-gateway-setup.sh -n 1234567890abcdef -a

# 2. æ‰‹åŠ¨é…ç½®ç­–ç•¥è·¯ç”±
# åˆ›å»ºè·¯ç”±è¡¨
echo "101 openvpn" | sudo tee -a /etc/iproute2/rt_tables

# æ·»åŠ  OpenVPN è·¯ç”±
sudo ip route add 10.10.0.0/16 dev tun0 table openvpn
sudo ip rule add to 10.10.0.0/16 table openvpn priority 50

# ç¡®ä¿æœ¬åœ°æµé‡ä¼˜å…ˆ
sudo ip rule add from all lookup main priority 10
```

### é˜²ç«å¢™é…ç½®

#### UFW (Ubuntu/Debian)

```bash
# å…è®¸ ZeroTier ç«¯å£
sudo ufw allow 9993/udp

# å¯ç”¨è½¬å‘
sudo ufw default allow routed

# é‡æ–°åŠ è½½
sudo ufw reload
```

#### firewalld (CentOS/RHEL/Fedora)

```bash
# å…è®¸ ZeroTier ç«¯å£
sudo firewall-cmd --permanent --add-port=9993/udp

# å¯ç”¨ IP ä¼ªè£…
sudo firewall-cmd --permanent --add-masquerade

# é‡æ–°åŠ è½½
sudo firewall-cmd --reload
```

### æ€§èƒ½ä¼˜åŒ–

```bash
# 1. è°ƒæ•´ MTUï¼ˆv1.2.1 å·²è‡ªåŠ¨ä¼˜åŒ–ï¼‰
# å¦‚éœ€æ‰‹åŠ¨è°ƒæ•´ï¼š
sudo ip link set <ZTæ¥å£> mtu 1280

# 2. å¯ç”¨ TCP BBRï¼ˆæå‡é€Ÿåº¦ï¼‰
echo "net.core.default_qdisc=fq" | sudo tee -a /etc/sysctl.conf
echo "net.ipv4.tcp_congestion_control=bbr" | sudo tee -a /etc/sysctl.conf
sudo sysctl -p

# 3. å¢åŠ è¿æ¥è·Ÿè¸ªè¡¨å¤§å°ï¼ˆé«˜å¹¶å‘åœºæ™¯ï¼‰
echo "net.netfilter.nf_conntrack_max=262144" | sudo tee -a /etc/sysctl.conf
sudo sysctl -p
```

### è‡ªå®šä¹‰ Moon èŠ‚ç‚¹ï¼ˆåŠ é€Ÿï¼‰

```bash
# 1. åœ¨ç½‘å…³èŠ‚ç‚¹ç”Ÿæˆ Moon é…ç½®
sudo zerotier-idtool initmoon /var/lib/zerotier-one/identity.public > moon.json

# 2. ç¼–è¾‘ moon.jsonï¼Œæ·»åŠ å…¬ç½‘ IP
# 3. ç”Ÿæˆ Moon æ–‡ä»¶
sudo zerotier-idtool genmoon moon.json

# 4. ç§»åŠ¨åˆ°é…ç½®ç›®å½•
sudo mkdir -p /var/lib/zerotier-one/moons.d
sudo mv *.moon /var/lib/zerotier-one/moons.d/

# 5. é‡å¯æœåŠ¡
sudo systemctl restart zerotier-one

# 6. å®¢æˆ·ç«¯ä½¿ç”¨ Moon
sudo zerotier-cli orbit <MOON_ID> <MOON_ID>
```

## ğŸ› æ•…éšœæ’æŸ¥

### é—®é¢˜ 1: æ— æ³•è®¿é—®äº’è”ç½‘

```bash
# æ£€æŸ¥ ZeroTier çŠ¶æ€
sudo zerotier-cli listnetworks
# åº”è¯¥çœ‹åˆ°çŠ¶æ€ä¸º "OK"

# æ£€æŸ¥ IP è½¬å‘
sysctl net.ipv4.ip_forward
# åº”è¯¥è¿”å› "net.ipv4.ip_forward = 1"

# æ£€æŸ¥ NAT è§„åˆ™
sudo iptables -t nat -L -n -v | grep MASQUERADE
# åº”è¯¥çœ‹åˆ° MASQUERADE è§„åˆ™

# æ£€æŸ¥è·¯ç”±
ip route
# åº”è¯¥çœ‹åˆ°é»˜è®¤è·¯ç”±

# æµ‹è¯•ç½‘å…³è¿é€šæ€§
ping <ç½‘å…³ZT IP>
```

### é—®é¢˜ 2: æ— æ³•è®¿é—®å†…ç½‘è®¾å¤‡

```bash
# æ£€æŸ¥å†…ç½‘è·¯ç”±
ip route show | grep <å†…ç½‘ç½‘æ®µ>

# åœ¨ç½‘å…³èŠ‚ç‚¹æµ‹è¯•èƒ½å¦è®¿é—®å†…ç½‘
ping <å†…ç½‘è®¾å¤‡IP>

# åœ¨ç½‘å…³æŠ“åŒ…
sudo tcpdump -i <ZTæ¥å£> icmp

# æ£€æŸ¥å†…ç½‘è®¾å¤‡é˜²ç«å¢™
# ç¡®ä¿å†…ç½‘è®¾å¤‡å…è®¸æ¥è‡ª ZeroTier ç½‘æ®µçš„è®¿é—®

# æµ‹è¯•å†…ç½‘è¿é€šæ€§
ping <å†…ç½‘è®¾å¤‡IP>
traceroute <å†…ç½‘è®¾å¤‡IP>
```

### é—®é¢˜ 3: å®¢æˆ·ç«¯æ— æ³•è¿æ¥åˆ° ZeroTier

1. **æ£€æŸ¥æˆæƒçŠ¶æ€**
   - è®¿é—® ZeroTier Central
   - ç¡®è®¤è®¾å¤‡å·²å‹¾é€‰ Auth

2. **æ£€æŸ¥é˜²ç«å¢™**
   ```bash
   # ç¡®ä¿ 9993/UDP ç«¯å£å¼€æ”¾
   sudo netstat -uln | grep 9993
   ```

3. **æŸ¥çœ‹æ—¥å¿—**
   ```bash
   # Linux
   sudo journalctl -u zerotier-one -f
   
   # Windows
   # æŸ¥çœ‹ C:\ProgramData\ZeroTier\One\service.log
   ```

### é—®é¢˜ 4: è·¯ç”±é…ç½®ä¸ç”Ÿæ•ˆ

```bash
# é‡å¯ ZeroTier æœåŠ¡
sudo systemctl restart zerotier-one
sudo systemctl restart zerotier-gateway

# æŸ¥çœ‹é…ç½®æ–‡ä»¶
cat /etc/zerotier-gateway.conf

# æ‰‹åŠ¨é‡æ–°åº”ç”¨è§„åˆ™
sudo /usr/local/bin/zerotier-gateway-startup.sh

# æ£€æŸ¥ iptables è§„åˆ™
sudo iptables -t nat -L -n -v
sudo iptables -L FORWARD -n -v
```

### é—®é¢˜ 5: é€Ÿåº¦æ…¢

```bash
# 1. æ£€æŸ¥æ˜¯å¦å»ºç«‹äº†ç›´è¿ï¼ˆP2Pï¼‰
sudo zerotier-cli peers
# æŸ¥æ‰¾ä½ çš„ç›®æ ‡èŠ‚ç‚¹ï¼Œå»¶è¿Ÿåº”è¯¥åœ¨å‡ åæ¯«ç§’

# 2. ä½¿ç”¨ iperf3 æµ‹é€Ÿ
# æœåŠ¡ç«¯
iperf3 -s

# å®¢æˆ·ç«¯
iperf3 -c <ç½‘å…³ZT IP>

# 3. æ£€æŸ¥ MTUï¼ˆv1.2.1 å·²è‡ªåŠ¨ä¼˜åŒ–ï¼‰
ip link show <ZTæ¥å£> | grep mtu
```

### é—®é¢˜ 6: å®‰è£…å¤±è´¥

**v1.2.1 æ–°åŠŸèƒ½ï¼šè‡ªåŠ¨å›æ»š**

```bash
# å¦‚æœå®‰è£…å¤±è´¥ï¼Œè„šæœ¬ä¼šè‡ªåŠ¨ï¼š
# 1. æ¢å¤ iptables è§„åˆ™
# 2. æ¸…ç†å®‰è£…æ–‡ä»¶
# 3. æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯

# æŸ¥çœ‹å¤‡ä»½
ls -lh /var/backups/zerotier-gateway/

# æ‰‹åŠ¨æ¢å¤æœ€æ–°å¤‡ä»½
sudo iptables-restore < /var/backups/zerotier-gateway/iptables-æœ€æ–°.rules
```

### é—®é¢˜ 7: ç½‘ç»œå†²çª

**v1.2.1 ä¼šè‡ªåŠ¨æ£€æµ‹å¹¶æç¤ºå†²çª**

```bash
# å†²çªç±»å‹ï¼š
# - ç«¯å£ 9993 è¢«å ç”¨
# - å…¶ä»– VPN (OpenVPN/WireGuard) åœ¨è¿è¡Œ
# - é˜²ç«å¢™é˜»æ­¢
# - å·²å­˜åœ¨é…ç½®

# è§£å†³æ–¹æ¡ˆï¼š
# 1. åœæ­¢å†²çªçš„æœåŠ¡
# 2. å…ˆå¸è½½æ—§é…ç½®: sudo bash zerotier-gateway-setup.sh -u
# 3. é‡æ–°å®‰è£…
```

### é—®é¢˜ 8: çœ‹ä¸åˆ°å®‰è£…è¿›åº¦

**ç¡®ä¿ä½¿ç”¨æ ‡å‡†æ¨¡å¼ï¼ˆä¸å¸¦ -y å‚æ•°ï¼‰**

```bash
# æ ‡å‡†æ¨¡å¼ - æœ‰è¿›åº¦æ˜¾ç¤º
sudo bash zerotier-gateway-setup.sh -n YOUR_ID -a

# å¿«é€Ÿæ¨¡å¼ - è¿›åº¦ä¼šå¾ˆå¿«ï¼ˆå¯èƒ½çœ‹ä¸æ¸…ï¼‰
sudo bash zerotier-gateway-setup.sh -n YOUR_ID -a -y
```

## ğŸ“Š æ¶æ„è¯´æ˜

### ç½‘ç»œæ‹“æ‰‘

```
Internet
   â”‚
   â”‚ (å…¬ç½‘ IP)
   â”‚
   â–¼
[Linux Gateway/VPS]
   â”‚
   â”œâ”€ eth0 (ç‰©ç†ç½‘å¡ - å…¬ç½‘/å±€åŸŸç½‘)
   â”‚   â””â”€ 123.456.789.0
   â”‚
   â”œâ”€ zt0 (ZeroTier è™šæ‹Ÿç½‘å¡)
   â”‚   â””â”€ 10.147.20.1/16 (ZeroTier IP)
   â”‚
   â””â”€ (å¯é€‰) æœ¬åœ°å±€åŸŸç½‘
       â””â”€ 192.168.1.0/24
```

### iptables è§„åˆ™é“¾

```bash
# 1. NAT è½¬å‘ï¼ˆæ ¸å¿ƒè§„åˆ™ï¼‰
iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE
# å°†æ‰€æœ‰ä» eth0 å‡ºå»çš„æ•°æ®åŒ…è¿›è¡Œæºåœ°å€è½¬æ¢

# 2. å…è®¸ ZeroTier â†’ å¤–ç½‘
iptables -A FORWARD -i zt0 -o eth0 -j ACCEPT
# å…è®¸ä» ZeroTier æ¥å£åˆ°ç‰©ç†ç½‘å¡çš„æ•°æ®åŒ…è½¬å‘

# 3. å…è®¸å¤–ç½‘ â†’ ZeroTier (å·²å»ºç«‹çš„è¿æ¥)
iptables -A FORWARD -i eth0 -o zt0 -m state --state RELATED,ESTABLISHED -j ACCEPT
# åªå…è®¸å·²å»ºç«‹è¿æ¥çš„è¿”å›æ•°æ®åŒ…
```

### ZeroTier Central è·¯ç”±é…ç½®

åœ¨ https://my.zerotier.com/network/YOUR_NETWORK_ID çš„ **Managed Routes** é…ç½®ï¼š

```
Destination         Via             Description
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
0.0.0.0/0          10.147.20.1     å…¨å±€å‡ºç«™ï¼ˆVPNï¼‰
192.168.1.0/24     10.147.20.1     å†…ç½‘è®¿é—®
10.0.0.0/24        10.147.20.1     å†…ç½‘è®¿é—®
```

### æ•°æ®æµå‘

```
å®¢æˆ·ç«¯ (192.168.0.100)
   â”‚
   â”‚ å‘é€æ•°æ®åŒ…åˆ° google.com
   â”‚ ç›®æ ‡: 172.217.160.46:443
   â”‚ æº: 192.168.0.100
   â”‚
   â–¼
ZeroTier ç½‘ç»œ (åŠ å¯†éš§é“)
   â”‚ æº: 10.147.20.5 (å®¢æˆ·ç«¯ ZT IP)
   â”‚ ç›®æ ‡: 172.217.160.46:443
   â”‚
   â–¼
Linux Gateway (10.147.20.1)
   â”‚ zt0 æ¥æ”¶æ•°æ®
   â”‚
   â”œâ”€ iptables FORWARD æ£€æŸ¥ âœ“
   â”‚
   â”œâ”€ iptables NAT (MASQUERADE)
   â”‚  å°†æº IP æ”¹ä¸ºç½‘å…³å…¬ç½‘ IP
   â”‚  æº: 123.456.789.0
   â”‚  ç›®æ ‡: 172.217.160.46:443
   â”‚
   â–¼
eth0 (ç‰©ç†ç½‘å¡)
   â”‚
   â–¼
Internet â†’ Google æœåŠ¡å™¨

(è¿”å›æ•°æ®åŒ…æŒ‰ç›¸åè·¯å¾„è¿”å›)
```

## ğŸ” å®‰å…¨å»ºè®®

### 1. æœ€å°æƒé™åŸåˆ™

- ä»…æˆæƒå¿…è¦çš„è®¾å¤‡åŠ å…¥ç½‘ç»œ
- å®šæœŸå®¡æŸ¥ ZeroTier Central çš„è®¾å¤‡åˆ—è¡¨
- ç§»é™¤ä¸å†ä½¿ç”¨çš„è®¾å¤‡

### 2. ä½¿ç”¨é˜²ç«å¢™

```bash
# é™åˆ¶åªå…è®¸ç‰¹å®šç½‘æ®µè®¿é—®
iptables -A FORWARD -i zt0 -s 10.147.20.0/24 -j ACCEPT
iptables -A FORWARD -i zt0 -j DROP

# é™åˆ¶è®¿é—®ç‰¹å®šç«¯å£
iptables -A FORWARD -i zt0 -p tcp --dport 22 -j DROP  # ç¦æ­¢ SSH
```

### 3. å¯ç”¨åŒå› ç´ è®¤è¯

åœ¨ ZeroTier Central è´¦æˆ·è®¾ç½®ä¸­å¯ç”¨ 2FA

### 4. ç›‘æ§æµé‡

```bash
# å®‰è£… iftop
sudo apt-get install iftop  # Ubuntu/Debian
sudo yum install iftop      # CentOS/RHEL

# ç›‘æ§ ZeroTier æ¥å£
sudo iftop -i <ZTæ¥å£>

# æŸ¥çœ‹è¿æ¥ç»Ÿè®¡
sudo iptables -t nat -L -n -v
sudo iptables -L FORWARD -n -v
```

### 5. å®šæœŸæ›´æ–°

```bash
# æ›´æ–° ZeroTier
curl -s https://install.zerotier.com | sudo bash

# æ›´æ–°ç³»ç»Ÿ
sudo apt update && sudo apt upgrade  # Ubuntu/Debian
sudo yum update                       # CentOS/RHEL
```

### 6. å®šæœŸæ£€æŸ¥å¤‡ä»½ï¼ˆv1.2.1ï¼‰

```bash
# æŸ¥çœ‹å¤‡ä»½åˆ—è¡¨
ls -lh /var/backups/zerotier-gateway/

# æµ‹è¯•å¤‡ä»½æ¢å¤
sudo iptables-restore < /var/backups/zerotier-gateway/iptables-æœ€æ–°.rules
```

## â“ å¸¸è§é—®é¢˜ (FAQ)

### Q1: API Token æ˜¯å¿…éœ€çš„å—ï¼Ÿ

**A:** **ä¸æ˜¯**ã€‚API Token å®Œå…¨å¯é€‰ï¼Œä»…ç”¨äºè‡ªåŠ¨é…ç½®è·¯ç”±ã€‚

- âœ… **æœ‰ Token**: è„šæœ¬è‡ªåŠ¨åœ¨ ZeroTier Central é…ç½®è·¯ç”±
- âœ… **æ—  Token**: è„šæœ¬æ˜¾ç¤ºè¯¦ç»†çš„æ‰‹åŠ¨é…ç½®æ­¥éª¤

ä¸¤ç§æ–¹å¼æœ€ç»ˆæ•ˆæœç›¸åŒã€‚

### Q2: å…è´¹ç‰ˆæ”¯æŒ API Token å—ï¼Ÿ

**A:** **æ˜¯çš„**ã€‚ZeroTier å…è´¹ç‰ˆå®Œå…¨æ”¯æŒ API Tokenï¼Œæ— ä»»ä½•é™åˆ¶ã€‚

### Q3: æ”¯æŒå“ªäº›Linuxå‘è¡Œç‰ˆï¼Ÿ

**A:** 
- âœ… Ubuntu 18.04+
- âœ… Debian 10+
- âœ… CentOS 7+
- âœ… RHEL 7+
- âœ… Fedora 30+
- âœ… Rocky Linux 8+
- âœ… AlmaLinux 8+

### Q4: å¦‚ä½•æ£€æŸ¥æ˜¯å¦é…ç½®æˆåŠŸï¼Ÿ

**A:** ä»å®¢æˆ·ç«¯æ‰§è¡Œï¼š

```bash
# 1. Ping ç½‘å…³
ping <ç½‘å…³ZT IP>

# 2. æµ‹è¯•å¤–ç½‘è®¿é—®
curl -I http://www.google.com

# 3. æµ‹è¯•å†…ç½‘è®¿é—®ï¼ˆå¦‚æœé…ç½®äº†ï¼‰
ping <å†…ç½‘è®¾å¤‡IP>

# 4. æŸ¥çœ‹é…ç½®ï¼ˆv1.2.1ï¼‰
cat /etc/zerotier-gateway.conf
```

### Q5: æ€§èƒ½å¦‚ä½•ï¼Ÿå»¶è¿Ÿå¤šå°‘ï¼Ÿ

**A:** 
- **ç›´è¿ (P2P)**: å»¶è¿Ÿ 10-50msï¼Œé€Ÿåº¦å–å†³äºå¸¦å®½
- **ä¸­ç»§è¿æ¥**: å»¶è¿Ÿ 50-200ms
- **å»ºè®®**: é…ç½® Moon èŠ‚ç‚¹å¯æ˜¾è‘—æå‡é€Ÿåº¦
- **v1.2.1**: è‡ªåŠ¨ MTU ä¼˜åŒ–å¯æå‡ 10-20% æ€§èƒ½

### Q6: v1.2.1 æ–°å¢äº†ä»€ä¹ˆåŠŸèƒ½ï¼Ÿ

**A:** v1.2.1 æ˜¯ç”¨æˆ·ä½“éªŒä¼˜åŒ–ç‰ˆæœ¬ï¼Œä¸»è¦æ–°å¢ï¼š

1. **è¯¦ç»†è¿›åº¦æ˜¾ç¤º**
   - 12æ­¥å¯è§†åŒ–è¿›åº¦æ¡
   - å®æ—¶ç™¾åˆ†æ¯”æ˜¾ç¤º
   - æ¯æ­¥éª¤è€—æ—¶ç»Ÿè®¡

2. **ä¼˜åŒ–ç¡®è®¤æµç¨‹**
   - é»˜è®¤æ˜¾ç¤ºç¡®è®¤æç¤ºï¼ˆæ›´å®‰å…¨ï¼‰
   - ä½¿ç”¨ `-y` å¯è·³è¿‡ç¡®è®¤ï¼ˆå¿«é€Ÿæ¨¡å¼ï¼‰
   - å…³é”®æ“ä½œæœ‰è¯¦ç»†è¯´æ˜

3. **æ”¹è¿›å®‰è£…ä½“éªŒ**
   - å½©è‰²è¾“å‡ºå¢å¼ºå¯è¯»æ€§
   - æ›´å‹å¥½çš„é”™è¯¯æç¤º
   - è¯¦ç»†çš„é…ç½®æ‘˜è¦

### Q7: å¦‚ä½•ä½¿ç”¨è‡ªåŠ¨æ£€æµ‹å†…ç½‘åŠŸèƒ½ï¼Ÿ

**A:** 

```bash
# æ–¹æ³• 1ï¼šä½¿ç”¨ -a å‚æ•°ï¼ˆæ¨èï¼‰
sudo bash zerotier-gateway-setup.sh -n YOUR_NETWORK_ID -a

# æ–¹æ³• 2ï¼šä¸æŒ‡å®š -l å‚æ•°æ—¶ä¼šæç¤ºæ˜¯å¦è‡ªåŠ¨æ£€æµ‹
sudo bash zerotier-gateway-setup.sh -n YOUR_NETWORK_ID

# è„šæœ¬ä¼šæ˜¾ç¤ºæ£€æµ‹åˆ°çš„ç½‘æ®µå¹¶è¯¢é—®æ˜¯å¦ä½¿ç”¨
```

### Q8: å®‰è£…å¤±è´¥åå¦‚ä½•æ¢å¤ï¼Ÿ

**A:** v1.2.1 ä¼šè‡ªåŠ¨å›æ»šï¼Œæ— éœ€æ‰‹åŠ¨æ“ä½œã€‚

```bash
# å¦‚éœ€æ‰‹åŠ¨æ¢å¤ï¼š
# 1. æŸ¥çœ‹å¤‡ä»½
ls -lh /var/backups/zerotier-gateway/

# 2. æ¢å¤ iptables
sudo iptables-restore < /var/backups/zerotier-gateway/iptables-XXXXXX.rules

# 3. æ¢å¤è·¯ç”±
sudo ip route restore < /var/backups/zerotier-gateway/routes-XXXXXX.dump
```

### Q9: ä¸ºä»€ä¹ˆçœ‹ä¸åˆ°è¿›åº¦æ¡ï¼Ÿ

**A:** å¯èƒ½çš„åŸå› ï¼š

1. **ä½¿ç”¨äº† -y å‚æ•°** - å¿«é€Ÿæ¨¡å¼ä¼šè·³è¿‡ç¡®è®¤ï¼Œå®‰è£…å¾ˆå¿«
   ```bash
   # è§£å†³ï¼šä½¿ç”¨æ ‡å‡†æ¨¡å¼
   sudo bash zerotier-gateway-setup.sh -n YOUR_ID -a
   ```

2. **ç»ˆç«¯ä¸æ”¯æŒå½©è‰²è¾“å‡º** - æŸäº›ç»ˆç«¯ä¸æ”¯æŒ ANSI é¢œè‰²
   ```bash
   # è§£å†³ï¼šä½¿ç”¨æ”¯æŒå½©è‰²çš„ç»ˆç«¯ï¼ˆå¦‚ xtermã€gnome-terminalï¼‰
   ```

3. **è¾“å‡ºè¢«é‡å®šå‘** - ä½¿ç”¨äº†ç®¡é“æˆ–é‡å®šå‘
   ```bash
   # é”™è¯¯ç¤ºä¾‹
   sudo bash script.sh | tee log.txt
   
   # æ­£ç¡®æ–¹å¼ï¼šç›´æ¥è¿è¡Œ
   sudo bash script.sh
   ```

### Q10: å¯ä»¥åŒæ—¶è¿è¡Œå¤šä¸ªç½‘å…³å—ï¼Ÿ

**A:** å¯ä»¥ã€‚ä½†éœ€è¦æ³¨æ„ï¼š
- ä¸åŒç½‘å…³ä½¿ç”¨ä¸åŒçš„ ZeroTier IP
- å®¢æˆ·ç«¯éœ€è¦æ‰‹åŠ¨é€‰æ‹©ä½¿ç”¨å“ªä¸ªç½‘å…³
- æˆ–ä½¿ç”¨è·¯ç”±ä¼˜å…ˆçº§

### Q11: å¦‚ä½•æŸ¥çœ‹æµé‡ç»Ÿè®¡ï¼Ÿ

```bash
# æŸ¥çœ‹æ¥å£æµé‡
ip -s link show <ZTæ¥å£>

# ä½¿ç”¨ vnstatï¼ˆéœ€è¦å®‰è£…ï¼‰
sudo apt-get install vnstat
vnstat -i <ZTæ¥å£>

# å®æ—¶ç›‘æ§
sudo iftop -i <ZTæ¥å£>
```

### Q12: æ”¯æŒ IPv6 å—ï¼Ÿ

**A:** ZeroTier æ”¯æŒ IPv6ï¼Œä½†æœ¬è„šæœ¬ä¸»è¦é…ç½® IPv4ã€‚å¦‚éœ€ IPv6:

```bash
# å¯ç”¨ IPv6 è½¬å‘
sudo sysctl -w net.ipv6.conf.all.forwarding=1

# é…ç½® IPv6 NATï¼ˆéœ€è¦å†…æ ¸ 3.7+ï¼‰
sudo ip6tables -t nat -A POSTROUTING -o eth0 -j MASQUERADE
```

### Q13: å¦‚ä½•å¤‡ä»½é…ç½®ï¼Ÿ

```bash
# v1.2.1 è‡ªåŠ¨å¤‡ä»½åˆ°ï¼š
/var/backups/zerotier-gateway/

# æ‰‹åŠ¨å¤‡ä»½
sudo cp /etc/zerotier-gateway.conf ~/zerotier-gateway-backup.conf
sudo iptables-save > ~/iptables-backup.rules
sudo cp -r /var/lib/zerotier-one ~/zerotier-one-backup
```

### Q14: å¦‚ä½•è¿ç§»åˆ°æ–°æœåŠ¡å™¨ï¼Ÿ

```bash
# 1. åœ¨æ—§æœåŠ¡å™¨å¯¼å‡ºé…ç½®
sudo cat /etc/zerotier-gateway.conf
sudo iptables-save > iptables.rules

# 2. åœ¨æ–°æœåŠ¡å™¨å®‰è£…ï¼ˆä½¿ç”¨æ™ºèƒ½æ¨¡å¼ï¼‰
sudo bash zerotier-gateway-setup.sh -n YOUR_NETWORK_ID -a

# 3. ï¼ˆå¯é€‰ï¼‰å¤åˆ¶ ZeroTier èº«ä»½ä¿æŒç›¸åŒ Node ID
sudo systemctl stop zerotier-one
sudo cp -r ~/zerotier-one-backup/* /var/lib/zerotier-one/
sudo systemctl start zerotier-one
```

### Q15: å†…ç½‘ç©¿é€æ—¶ç½‘å…³åº”è¯¥æ”¾åœ¨å“ªé‡Œï¼Ÿ

**A:** ç½‘å…³èŠ‚ç‚¹**å¿…é¡»**èƒ½è®¿é—®åˆ°ç›®æ ‡å†…ç½‘ï¼Œæœ‰ä»¥ä¸‹å‡ ç§éƒ¨ç½²æ–¹æ¡ˆï¼š

#### æ–¹æ¡ˆ 1ï¼šç½‘å…³åœ¨å†…ç½‘ï¼ˆæ¨èï¼‰
```
[å®¶é‡Œå†…ç½‘] â† ç½‘å…³åœ¨è¿™é‡Œ
  â”œâ”€ ç½‘å…³æœåŠ¡å™¨ (è¿è¡Œè„šæœ¬)
  â”œâ”€ NAS (192.168.1.50)
  â””â”€ å…¶ä»–è®¾å¤‡

å¤–ç½‘å®¢æˆ·ç«¯ â†’ ZeroTier â†’ ç½‘å…³ â†’ å†…ç½‘è®¾å¤‡ âœ…
```

#### æ–¹æ¡ˆ 2ï¼šå…¬ç½‘ VPS + VPN è¿æ¥å†…ç½‘
```
[å…¬ç½‘ VPS] â† ç½‘å…³åœ¨è¿™é‡Œ
     â”‚
     â”‚ (é€šè¿‡ OpenVPN/WireGuard è¿æ¥)
     â–¼
[å®¶é‡Œå†…ç½‘]
  â”œâ”€ NAS (192.168.1.50)
  â””â”€ å…¶ä»–è®¾å¤‡
```

## ğŸ“š å‚è€ƒèµ„æº

### å®˜æ–¹æ–‡æ¡£

- [ZeroTier å®˜æ–¹æ–‡æ¡£](https://docs.zerotier.com/)
- [ZeroTier GitHub](https://github.com/zerotier/ZeroTierOne)
- [ZeroTier Central](https://my.zerotier.com)

### æŠ€æœ¯èµ„æ–™

- [iptables æ•™ç¨‹](https://www.netfilter.org/documentation/)
- [Linux é«˜çº§è·¯ç”±](https://lartc.org/howto/)
- [systemd æœåŠ¡ç®¡ç†](https://www.freedesktop.org/software/systemd/man/systemd.service.html)

### ç›¸å…³é¡¹ç›®

- [ZeroTier Moon](https://docs.zerotier.com/zerotier/moons) - è‡ªå»º Planet æ ¹æœåŠ¡å™¨
- [zerotier-docker](https://github.com/zerotier/ZeroTierOne/tree/master/docker) - Docker éƒ¨ç½²
- [zerotier-openwrt](https://github.com/mwarning/zerotier-openwrt) - OpenWrt æ”¯æŒ

## ğŸ¤ è´¡çŒ®

æ¬¢è¿è´¡çŒ®ä»£ç ã€æäº¤ Issue æˆ–æ”¹è¿›æ–‡æ¡£ï¼

### å¦‚ä½•è´¡çŒ®

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

### è´¡çŒ®è€…

æ„Ÿè°¢æ‰€æœ‰ä¸ºæœ¬é¡¹ç›®åšå‡ºè´¡çŒ®çš„å¼€å‘è€…ï¼

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

## ğŸ‘¤ ä½œè€…

**rockyshi1993**

- GitHub: [@rockyshi1993](https://github.com/rockyshi1993)
- é¡¹ç›®ä¸»é¡µ: [zerotier-gateway](https://github.com/rockyshi1993/zerotier-gateway)

## ğŸ“® è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š

- æäº¤ [Issue](https://github.com/rockyshi1993/zerotier-gateway/issues)
- å‚ä¸ [Discussions](https://github.com/rockyshi1993/zerotier-gateway/discussions)

---

## ğŸ“ æ›´æ–°æ—¥å¿—

### v1.2.1 (2025-10-18)

#### ğŸ¨ ç”¨æˆ·ä½“éªŒå¤§å¹…æå‡

**è¿›åº¦æ˜¾ç¤ºç³»ç»Ÿ**
- âœ¨ æ–°å¢12æ­¥è¯¦ç»†å®‰è£…è¿›åº¦æ˜¾ç¤º
- âœ¨ 50å­—ç¬¦å®½å¯è§†åŒ–è¿›åº¦æ¡
- âœ¨ å®æ—¶ç™¾åˆ†æ¯”æ˜¾ç¤º (0-100%)
- âœ¨ æ¯ä¸ªæ­¥éª¤çš„è€—æ—¶ç»Ÿè®¡
- âœ¨ å½©è‰²è¾“å‡ºå¢å¼ºå¯è¯»æ€§

**ç¡®è®¤æç¤ºä¼˜åŒ–**
- ğŸ”§ é»˜è®¤å¯ç”¨ç¡®è®¤æç¤ºï¼ˆæ›´å®‰å…¨ï¼‰
- ğŸ”§ ä½¿ç”¨ `-y` å‚æ•°å¯è·³è¿‡æ‰€æœ‰ç¡®è®¤
- ğŸ”§ å…³é”®æ“ä½œå‰æ˜¾ç¤ºè¯¦ç»†è¯´æ˜
- ğŸ”§ å±é™©æ“ä½œç‰¹åˆ«æ ‡æ³¨

**å®‰è£…æµç¨‹æ”¹è¿›**
- ğŸš€ ä¼˜åŒ– ZeroTier å®‰è£…è¾“å‡º
- ğŸš€ æ”¹è¿›ä¾èµ–å·¥å…·å®‰è£…æç¤º
- ğŸš€ å¢å¼ºé”™è¯¯ä¿¡æ¯çš„å¯è¯»æ€§
- ğŸš€ ä¼˜åŒ–ç½‘ç»œå†²çªæ£€æµ‹æç¤º

**æ–°å¢åŠŸèƒ½**
- âœ… å®‰è£…æ¨¡å¼é€‰æ‹©ï¼ˆæ ‡å‡†/å¿«é€Ÿï¼‰
- âœ… æ€»å®‰è£…æ—¶é—´ç»Ÿè®¡ï¼ˆåˆ†é’Ÿ+ç§’ï¼‰
- âœ… æ›´è¯¦ç»†çš„é…ç½®æ‘˜è¦
- âœ… å®‰è£…è¿‡ç¨‹å¯è§†åŒ–
- âœ… æ¯æ­¥éª¤å®Œæˆåæ˜¾ç¤ºè€—æ—¶

**ç¤ºä¾‹è¾“å‡º**
```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ å®‰è£…è¿›åº¦: [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘] 50%
â•‘ æ­¥éª¤ 6/12: åŠ å…¥ ZeroTier ç½‘ç»œ
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  æ­£åœ¨åŠ å…¥ç½‘ç»œ... å®Œæˆ
  æ­£åœ¨è·å– Node ID... a1b2c3d4e5
[âœ“] ç½‘ç»œåŠ å…¥å®Œæˆ (è€—æ—¶: 2ç§’)
```

#### ğŸ“Š æ€§èƒ½æ•°æ®
- æ ‡å‡†å®‰è£…: 3-5 åˆ†é’Ÿï¼ˆåŒ…å«ç¡®è®¤æ—¶é—´ï¼‰
- å¿«é€Ÿå®‰è£…: 2-3 åˆ†é’Ÿï¼ˆä½¿ç”¨ -y å‚æ•°ï¼‰
- ç”¨æˆ·æ»¡æ„åº¦: â­â­â­â­â­

#### ğŸ”„ å…¼å®¹æ€§
- å®Œå…¨å‘åå…¼å®¹ v1.2.0
- æ‰€æœ‰æ—§å‚æ•°ç»§ç»­æœ‰æ•ˆ
- é»˜è®¤è¡Œä¸ºï¼šæ˜¾ç¤ºè¿›åº¦å’Œç¡®è®¤æç¤º

### v1.2.0 (2025-10-18)

#### ğŸ‰ é‡å¤§æ›´æ–° - æ™ºèƒ½å¢å¼ºç‰ˆ

**æ–°å¢åŠŸèƒ½**
- âœ¨ æ™ºèƒ½å†…ç½‘æ£€æµ‹ (-a å‚æ•°)
- âœ¨ é…ç½®å¤‡ä»½å’Œå›æ»šæœºåˆ¶
- âœ¨ ç½‘ç»œå†²çªæ£€æµ‹
- âœ¨ MTU è‡ªåŠ¨ä¼˜åŒ–
- âœ¨ ä¾èµ–è‡ªåŠ¨å®‰è£…

**ä¼˜åŒ–æ”¹è¿›**
- æ›´è¯¦ç»†çš„å®‰è£…æ‘˜è¦
- æ›´å‹å¥½çš„é”™è¯¯æç¤º
- æ”¹è¿›çš„å¸è½½æµç¨‹

### v1.1.0 (2025-10-18)

#### ğŸ‰ é‡å¤§æ›´æ–° - æ™ºèƒ½åŒ–å¢å¼ºç‰ˆ

**æ–°å¢åŠŸèƒ½**
- ğŸ” æ™ºèƒ½å†…ç½‘æ£€æµ‹
- ğŸ’¾ é…ç½®å¤‡ä»½å’Œå›æ»š
- âš ï¸ ç½‘ç»œå†²çªæ£€æµ‹
- ğŸš€ MTU è‡ªåŠ¨ä¼˜åŒ–
- ğŸ“¦ ä¾èµ–è‡ªåŠ¨å®‰è£…

**æ€§èƒ½æå‡**
- æ™ºèƒ½åŒ–ç¨‹åº¦: 7.5/10 â†’ 8.5/10 (+13%)
- å®‰å…¨æ€§: 3.0/5 â†’ 4.0/5 (+33%)

### v1.0.1 (2025-01-18)

#### ğŸ› Bug ä¿®å¤
- ä¿®å¤ API è·¯ç”±é…ç½® JSON æ‹¼æ¥é”™è¯¯
- ä¿®å¤ hostname å‘½ä»¤æ³¨å…¥å®‰å…¨é£é™©
- ä¿®å¤ iptables è§„åˆ™é‡å¤æ·»åŠ é—®é¢˜
- ä¿®å¤ NODE_ID è·å–å¤±è´¥æ—¶æœªæ­£ç¡®å¤„ç†

#### âœ¨ æ–°å¢åŠŸèƒ½
- æ·»åŠ  CIDR ç½‘æ®µæ ¼å¼éªŒè¯
- æ·»åŠ  jq ä¾èµ–æ£€æŸ¥å’Œå‹å¥½æç¤º
- æ·»åŠ ç½‘ç»œè¿é€šæ€§è‡ªåŠ¨æµ‹è¯•
- æ·»åŠ  ZeroTier å®‰è£…ç¡®è®¤æç¤º

### v1.0.0 (2025-01-18)

- âœ¨ åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- âœ… æ”¯æŒ VPN å…¨å±€å‡ºç«™
- âœ… æ”¯æŒå†…ç½‘ç©¿é€
- âœ… æ”¯æŒ API Token è‡ªåŠ¨é…ç½®è·¯ç”±
- âœ… æ”¯æŒä¸€é”®å®‰è£…/å¸è½½
- âœ… æ”¯æŒå¤šç§ Linux å‘è¡Œç‰ˆ

---

â­ **å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ª Starï¼**

ğŸ”— **é¡¹ç›®åœ°å€**: https://github.com/rockyshi1993/zerotier-gateway

ğŸ“¢ **v1.2.1 ç”¨æˆ·ä½“éªŒä¼˜åŒ–ç‰ˆç°å·²å‘å¸ƒï¼**

---

**æœ€åæ›´æ–°**: 2025-10-18
**ä½œè€…**: [@rockyshi1993](https://github.com/rockyshi1993)
